<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Disco-C: src/utils/cache.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Disco-C
   </div>
   <div id="projectbrief">Discord C Bot Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_313caf1132e152dd9b58bea13a4052ca.html">utils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">cache.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file handles a cache for messages, guilds and channels. Structures are kept alive in the queue even if a new structure for the ID is created (message was edited). The structure will be cleaned up though if it is at the beginning of the queue and the max cache size is reached. struct.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="cache_8h_source.html">cache.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="disco__logging_8h_source.html">disco_logging.h</a>&quot;</code><br />
<code>#include &lt;sys/queue.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for cache.c:</div>
<div class="dyncontent">
<div class="center"><img src="cache_8c__incl.png" border="0" usemap="#src_2utils_2cache_8c" alt=""/></div>
<map name="src_2utils_2cache_8c" id="src_2utils_2cache_8c">
<area shape="rect" title="This file handles a cache for messages, guilds and channels. Structures are kept alive in the queue e..." alt="" coords="2402,5,2529,32"/>
<area shape="rect" href="cache_8h.html" title=" " alt="" coords="2236,80,2308,107"/>
<area shape="rect" href="disco__logging_8h.html" title=" " alt="" coords="2404,80,2527,107"/>
<area shape="rect" title=" " alt="" coords="2551,80,2651,107"/>
<area shape="rect" href="channel_8h.html" title=" " alt="" coords="609,497,759,539"/>
<area shape="rect" href="guild_8h.html" title=" " alt="" coords="1906,408,2057,449"/>
<area shape="rect" href="message_8h.html" title=" " alt="" coords="1079,155,1230,196"/>
<area shape="rect" title=" " alt="" coords="2309,162,2480,189"/>
<area shape="rect" href="permission_8h.html" title=" " alt="" coords="704,587,811,613"/>
<area shape="rect" href="thread_8h.html" title=" " alt="" coords="937,587,1013,613"/>
<area shape="rect" title=" " alt="" coords="1767,661,1849,688"/>
<area shape="rect" title=" " alt="" coords="581,661,651,688"/>
<area shape="rect" href="user_8h.html" title=" " alt="" coords="1071,587,1132,613"/>
<area shape="rect" title=" " alt="" coords="1169,661,1285,688"/>
<area shape="rect" href="emoji_8h.html" title=" " alt="" coords="1446,505,1517,531"/>
<area shape="rect" href="role_8h.html" title=" " alt="" coords="2069,505,2128,531"/>
<area shape="rect" href="sticker_8h.html" title=" " alt="" coords="1795,505,1871,531"/>
<area shape="rect" href="disco_8h.html" title=" " alt="" coords="1011,244,1091,271"/>
<area shape="rect" href="attachment_8h.html" title=" " alt="" coords="349,587,528,613"/>
<area shape="rect" href="component_8h.html" title=" " alt="" coords="1604,415,1780,442"/>
<area shape="rect" href="message__activity_8h.html" title=" " alt="" coords="43,319,194,360"/>
<area shape="rect" href="reaction_8h.html" title=" " alt="" coords="1423,415,1579,442"/>
<area shape="rect" href="embed_8h.html" title=" " alt="" coords="1947,587,2026,613"/>
<area shape="rect" href="t__pool_8h.html" title=" " alt="" coords="675,326,794,353"/>
<area shape="rect" href="websocket_8h.html" title=" " alt="" coords="977,326,1124,353"/>
<area shape="rect" href="application_8h.html" title=" " alt="" coords="1139,505,1314,531"/>
<area shape="rect" href="interaction_8h.html" title=" " alt="" coords="1300,326,1473,353"/>
<area shape="rect" title=" " alt="" coords="675,415,759,442"/>
<area shape="rect" title=" " alt="" coords="1037,415,1123,442"/>
<area shape="rect" title=" " alt="" coords="886,415,1013,442"/>
<area shape="rect" href="command_8h.html" title=" " alt="" coords="1249,415,1348,442"/>
<area shape="rect" title=" " alt="" coords="2504,162,2571,189"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnode.html">node</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbuffer.html">buffer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1dbbf43aa4a7a4e8073bc72c8d08986a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8c.html#a1dbbf43aa4a7a4e8073bc72c8d08986a">default_destroy_callback</a> (enum <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111f">Disco_Cache_Type</a> type, void *structure)</td></tr>
<tr class="separator:a1dbbf43aa4a7a4e8073bc72c8d08986a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98b5c2129a67d394da3830526d1ae247"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8c.html#a98b5c2129a67d394da3830526d1ae247">disco_cache_init</a> (int message_cache_size, int channel_cache_size, int guild_cache_size, <a class="el" href="cache_8h.html#a3a2c76967f7fd059bb4ca547a911599e">cache_destroy_callback_fn</a> callback)</td></tr>
<tr class="memdesc:a98b5c2129a67d394da3830526d1ae247"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes all the caches.  <a href="cache_8c.html#a98b5c2129a67d394da3830526d1ae247">More...</a><br /></td></tr>
<tr class="separator:a98b5c2129a67d394da3830526d1ae247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad69b13a7c195f8e49f2e3410bf524e83"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8c.html#ad69b13a7c195f8e49f2e3410bf524e83">disco_cache_destroy</a> (void)</td></tr>
<tr class="memdesc:ad69b13a7c195f8e49f2e3410bf524e83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans up the cache and frees all the structs it contains.  <a href="cache_8c.html#ad69b13a7c195f8e49f2e3410bf524e83">More...</a><br /></td></tr>
<tr class="separator:ad69b13a7c195f8e49f2e3410bf524e83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeba2f27742d234c2fca3f4f5f13f206d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8c.html#aeba2f27742d234c2fca3f4f5f13f206d">disco_cache_set</a> (enum <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111f">Disco_Cache_Type</a> type, void *cont)</td></tr>
<tr class="separator:aeba2f27742d234c2fca3f4f5f13f206d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a141010b66beb5b310cdc59754dcf7bad"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8c.html#a141010b66beb5b310cdc59754dcf7bad">disco_cache_get</a> (enum <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111f">Disco_Cache_Type</a> type, uint64_t id)</td></tr>
<tr class="separator:a141010b66beb5b310cdc59754dcf7bad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b89d1fd760b784957e0d871b2ab9bb1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8c.html#a8b89d1fd760b784957e0d871b2ab9bb1">disco_cache_delete</a> (enum <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111f">Disco_Cache_Type</a> type, uint64_t id)</td></tr>
<tr class="separator:a8b89d1fd760b784957e0d871b2ab9bb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a956b108056f3cdae1c31f1584ba4ee0f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8c.html#a956b108056f3cdae1c31f1584ba4ee0f">disco_cache_set_message</a> (struct <a class="el" href="structdiscord__message.html">discord_message</a> *message)</td></tr>
<tr class="memdesc:a956b108056f3cdae1c31f1584ba4ee0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a message to the cache by ID. If it already exists in cache, it frees and overwrites the previous entry.  <a href="cache_8c.html#a956b108056f3cdae1c31f1584ba4ee0f">More...</a><br /></td></tr>
<tr class="separator:a956b108056f3cdae1c31f1584ba4ee0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace523fbf19d49f495ffc8bfc95c4e572"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structdiscord__message.html">discord_message</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8c.html#ace523fbf19d49f495ffc8bfc95c4e572">disco_cache_get_message</a> (uint64_t id)</td></tr>
<tr class="memdesc:ace523fbf19d49f495ffc8bfc95c4e572"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retreives a message by ID in the cache.  <a href="cache_8c.html#ace523fbf19d49f495ffc8bfc95c4e572">More...</a><br /></td></tr>
<tr class="separator:ace523fbf19d49f495ffc8bfc95c4e572"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5281ba3f361e1d54b29847d8b1a46182"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8c.html#a5281ba3f361e1d54b29847d8b1a46182">disco_cache_delete_message</a> (uint64_t id)</td></tr>
<tr class="memdesc:a5281ba3f361e1d54b29847d8b1a46182"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a message from the cache and deallocates the message from memory.  <a href="cache_8c.html#a5281ba3f361e1d54b29847d8b1a46182">More...</a><br /></td></tr>
<tr class="separator:a5281ba3f361e1d54b29847d8b1a46182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c9a9dc6cac690ec485a0f031b0c0e8c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8c.html#a7c9a9dc6cac690ec485a0f031b0c0e8c">disco_cache_set_channel</a> (struct <a class="el" href="structdiscord__channel.html">discord_channel</a> *channel)</td></tr>
<tr class="memdesc:a7c9a9dc6cac690ec485a0f031b0c0e8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a channel to the cache by ID. If it already exists in cache, it frees and overwrites the previous entry.  <a href="cache_8c.html#a7c9a9dc6cac690ec485a0f031b0c0e8c">More...</a><br /></td></tr>
<tr class="separator:a7c9a9dc6cac690ec485a0f031b0c0e8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94c944689fdfce9d67ca25c60516e49c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structdiscord__channel.html">discord_channel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8c.html#a94c944689fdfce9d67ca25c60516e49c">disco_cache_get_channel</a> (uint64_t id)</td></tr>
<tr class="memdesc:a94c944689fdfce9d67ca25c60516e49c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retreives a channel by ID in the cache.  <a href="cache_8c.html#a94c944689fdfce9d67ca25c60516e49c">More...</a><br /></td></tr>
<tr class="separator:a94c944689fdfce9d67ca25c60516e49c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafbc60891102579f1fbf6f97ed004123"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8c.html#aafbc60891102579f1fbf6f97ed004123">disco_cache_delete_channel</a> (uint64_t id)</td></tr>
<tr class="memdesc:aafbc60891102579f1fbf6f97ed004123"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a channel from the cache and deallocates the channel from memory.  <a href="cache_8c.html#aafbc60891102579f1fbf6f97ed004123">More...</a><br /></td></tr>
<tr class="separator:aafbc60891102579f1fbf6f97ed004123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accaa802263d40f247b2d094616f5cfa3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8c.html#accaa802263d40f247b2d094616f5cfa3">disco_cache_set_guild</a> (struct <a class="el" href="structdiscord__guild.html">discord_guild</a> *guild)</td></tr>
<tr class="memdesc:accaa802263d40f247b2d094616f5cfa3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a guild to the cache by ID. If it already exists in cache, it frees and overwrites the previous entry.  <a href="cache_8c.html#accaa802263d40f247b2d094616f5cfa3">More...</a><br /></td></tr>
<tr class="separator:accaa802263d40f247b2d094616f5cfa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40d6e5b34fb34603ac79a8cbc31c8799"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structdiscord__guild.html">discord_guild</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8c.html#a40d6e5b34fb34603ac79a8cbc31c8799">disco_cache_get_guild</a> (uint64_t id)</td></tr>
<tr class="memdesc:a40d6e5b34fb34603ac79a8cbc31c8799"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retreives a guild by ID in the cache.  <a href="cache_8c.html#a40d6e5b34fb34603ac79a8cbc31c8799">More...</a><br /></td></tr>
<tr class="separator:a40d6e5b34fb34603ac79a8cbc31c8799"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26f3a802577df53494fd7f7537677f50"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8c.html#a26f3a802577df53494fd7f7537677f50">disco_cache_delete_guild</a> (uint64_t id)</td></tr>
<tr class="memdesc:a26f3a802577df53494fd7f7537677f50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a guild from the cache and deallocates the guild from memory.  <a href="cache_8c.html#a26f3a802577df53494fd7f7537677f50">More...</a><br /></td></tr>
<tr class="separator:a26f3a802577df53494fd7f7537677f50"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aae79345d0d5fe7ade7fc06b746ed93fd"><td class="memItemLeft" align="right" valign="top">static struct hashmap_s&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8c.html#aae79345d0d5fe7ade7fc06b746ed93fd">messages_map</a></td></tr>
<tr class="separator:aae79345d0d5fe7ade7fc06b746ed93fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abae5844af77f07ebc5ec8630d2392af7"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structbuffer.html">buffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8c.html#abae5844af77f07ebc5ec8630d2392af7">messages_queue</a></td></tr>
<tr class="separator:abae5844af77f07ebc5ec8630d2392af7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30554163527f83bc3897325522c7de8c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8c.html#a30554163527f83bc3897325522c7de8c">max_message_cache_size</a></td></tr>
<tr class="separator:a30554163527f83bc3897325522c7de8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a069029f5476e51f2a2978b9f32eb1861"><td class="memItemLeft" align="right" valign="top">static struct hashmap_s&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8c.html#a069029f5476e51f2a2978b9f32eb1861">channels_map</a></td></tr>
<tr class="separator:a069029f5476e51f2a2978b9f32eb1861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a676ccc5ac8c134cdb237ee1889a49706"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structbuffer.html">buffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8c.html#a676ccc5ac8c134cdb237ee1889a49706">channels_queue</a></td></tr>
<tr class="separator:a676ccc5ac8c134cdb237ee1889a49706"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32bfdb5f5eacbfaf13e4cdc0ad1b1bae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8c.html#a32bfdb5f5eacbfaf13e4cdc0ad1b1bae">max_channel_cache_size</a></td></tr>
<tr class="separator:a32bfdb5f5eacbfaf13e4cdc0ad1b1bae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37b932c9356ec20b4ec3dabc18074781"><td class="memItemLeft" align="right" valign="top">static struct hashmap_s&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8c.html#a37b932c9356ec20b4ec3dabc18074781">guilds_map</a></td></tr>
<tr class="separator:a37b932c9356ec20b4ec3dabc18074781"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91da2e78aae387f8009aa28741255488"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structbuffer.html">buffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8c.html#a91da2e78aae387f8009aa28741255488">guilds_queue</a></td></tr>
<tr class="separator:a91da2e78aae387f8009aa28741255488"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad81b87cde997b20dfecd65ea9e36ebac"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8c.html#ad81b87cde997b20dfecd65ea9e36ebac">max_guild_cache_size</a></td></tr>
<tr class="separator:ad81b87cde997b20dfecd65ea9e36ebac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64447acacfa22d39689a8cea43560939"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="cache_8h.html#a3a2c76967f7fd059bb4ca547a911599e">cache_destroy_callback_fn</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cache_8c.html#a64447acacfa22d39689a8cea43560939">destroy_item_callback_fn</a></td></tr>
<tr class="separator:a64447acacfa22d39689a8cea43560939"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file handles a cache for messages, guilds and channels. Structures are kept alive in the queue even if a new structure for the ID is created (message was edited). The structure will be cleaned up though if it is at the beginning of the queue and the max cache size is reached. struct. </p>
<dl class="section version"><dt>Version</dt><dd>0.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2022-06-21</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2022 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a1dbbf43aa4a7a4e8073bc72c8d08986a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dbbf43aa4a7a4e8073bc72c8d08986a">&#9670;&nbsp;</a></span>default_destroy_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void default_destroy_callback </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111f">Disco_Cache_Type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>structure</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111fa3a2f910ba186e0dabbd5f1cb3f407596">DISCO_CHANNEL_CACHE</a>, <a class="el" href="channel_8c.html#ae8939046624f5b842d5624c43f2aa927">disco_destroy_channel()</a>, <a class="el" href="guild_8c.html#a084339b2ff8ec44de5bace6344899332">disco_destroy_guild()</a>, <a class="el" href="message_8c.html#af8c130cb715240bb658ac80f52d3fed2">disco_destroy_message()</a>, <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111fa41bf87ec949bbcf37d261b6d5c339b98">DISCO_GUILD_CACHE</a>, and <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111fa6af48f8fcedaa55454ebb742bb48396e">DISCO_MESSAGE_CACHE</a>.</p>

<p class="reference">Referenced by <a class="el" href="cache_8h.html#a98b5c2129a67d394da3830526d1ae247">disco_cache_init()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cache_8c_a1dbbf43aa4a7a4e8073bc72c8d08986a_icgraph.png" border="0" usemap="#cache_8c_a1dbbf43aa4a7a4e8073bc72c8d08986a_icgraph" alt=""/></div>
<map name="cache_8c_a1dbbf43aa4a7a4e8073bc72c8d08986a_icgraph" id="cache_8c_a1dbbf43aa4a7a4e8073bc72c8d08986a_icgraph">
<area shape="rect" title=" " alt="" coords="455,5,640,32"/>
<area shape="rect" href="cache_8h.html#a98b5c2129a67d394da3830526d1ae247" title="Initializes all the caches." alt="" coords="277,5,407,32"/>
<area shape="rect" href="disco_8h.html#a18aaf89bf302e2e7a16188c6b7f45a76" title="High level abstraction which starts the bot." alt="" coords="108,5,229,32"/>
<area shape="rect" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<a id="a8b89d1fd760b784957e0d871b2ab9bb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b89d1fd760b784957e0d871b2ab9bb1">&#9670;&nbsp;</a></span>disco_cache_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void disco_cache_delete </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111f">Disco_Cache_Type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="structnode.html#ab994a562b7b2a11d7586e1093800f5a4">node::alloc_id</a>, <a class="el" href="cache_8c.html#a069029f5476e51f2a2978b9f32eb1861">channels_map</a>, <a class="el" href="cache_8c.html#a676ccc5ac8c134cdb237ee1889a49706">channels_queue</a>, <a class="el" href="structnode.html#ae82853bbf3b0d2b71de205ae40799555">node::data</a>, <a class="el" href="cache_8c.html#a64447acacfa22d39689a8cea43560939">destroy_item_callback_fn</a>, <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111fa3a2f910ba186e0dabbd5f1cb3f407596">DISCO_CHANNEL_CACHE</a>, <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111fa41bf87ec949bbcf37d261b6d5c339b98">DISCO_GUILD_CACHE</a>, <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111fa6af48f8fcedaa55454ebb742bb48396e">DISCO_MESSAGE_CACHE</a>, <a class="el" href="cache_8c.html#a37b932c9356ec20b4ec3dabc18074781">guilds_map</a>, <a class="el" href="cache_8c.html#a91da2e78aae387f8009aa28741255488">guilds_queue</a>, <a class="el" href="structbuffer.html#a1d6fe81b3ccc1b5ff1253ea6eac1a300">buffer::head</a>, <a class="el" href="cache_8c.html#aae79345d0d5fe7ade7fc06b746ed93fd">messages_map</a>, <a class="el" href="cache_8c.html#abae5844af77f07ebc5ec8630d2392af7">messages_queue</a>, <a class="el" href="structnode.html#a8522b9b5a7f1657e8c7a0ae48df93519">node::pointers</a>, and <a class="el" href="structbuffer.html#af3f397315f9d1257c0b271d6692c9e14">buffer::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="cache_8h.html#aafbc60891102579f1fbf6f97ed004123">disco_cache_delete_channel()</a>, <a class="el" href="cache_8h.html#a26f3a802577df53494fd7f7537677f50">disco_cache_delete_guild()</a>, and <a class="el" href="cache_8h.html#a5281ba3f361e1d54b29847d8b1a46182">disco_cache_delete_message()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cache_8c_a8b89d1fd760b784957e0d871b2ab9bb1_icgraph.png" border="0" usemap="#cache_8c_a8b89d1fd760b784957e0d871b2ab9bb1_icgraph" alt=""/></div>
<map name="cache_8c_a8b89d1fd760b784957e0d871b2ab9bb1_icgraph" id="cache_8c_a8b89d1fd760b784957e0d871b2ab9bb1_icgraph">
<area shape="rect" title=" " alt="" coords="1495,78,1644,105"/>
<area shape="rect" href="cache_8h.html#aafbc60891102579f1fbf6f97ed004123" title="Removes a channel from the cache and deallocates the channel from memory." alt="" coords="1297,5,1447,47"/>
<area shape="rect" href="cache_8h.html#a26f3a802577df53494fd7f7537677f50" title="Removes a guild from the cache and deallocates the guild from memory." alt="" coords="1297,71,1447,112"/>
<area shape="rect" href="cache_8h.html#a5281ba3f361e1d54b29847d8b1a46182" title="Removes a message from the cache and deallocates the message from memory." alt="" coords="1297,136,1447,177"/>
<area shape="rect" href="cache_8c.html#aeba2f27742d234c2fca3f4f5f13f206d" title=" " alt="" coords="1121,78,1249,105"/>
<area shape="rect" href="cache_8h.html#a7c9a9dc6cac690ec485a0f031b0c0e8c" title="Adds a channel to the cache by ID. If it already exists in cache, it frees and overwrites the previou..." alt="" coords="883,27,1069,54"/>
<area shape="rect" href="cache_8h.html#accaa802263d40f247b2d094616f5cfa3" title="Adds a guild to the cache by ID. If it already exists in cache, it frees and overwrites the previous ..." alt="" coords="893,78,1059,105"/>
<area shape="rect" href="cache_8h.html#a956b108056f3cdae1c31f1584ba4ee0f" title="Adds a message to the cache by ID. If it already exists in cache, it frees and overwrites the previou..." alt="" coords="879,129,1073,155"/>
<area shape="rect" href="event_8h.html#a0a0e68819bd46857f175b4ef0345767e" title="All event websocket responses call this function." alt="" coords="720,78,831,105"/>
<area shape="rect" href="gateway_8c.html#a0ae5ed06471447e38fa5edf7780989c3" title=" " alt="" coords="481,78,672,105"/>
<area shape="rect" href="gateway_8h.html#a8dd303796c502667dc80381a12150f96" title="Callback function for when a websocket package is received." alt="" coords="277,78,433,105"/>
<area shape="rect" href="disco_8h.html#a18aaf89bf302e2e7a16188c6b7f45a76" title="High level abstraction which starts the bot." alt="" coords="108,78,229,105"/>
<area shape="rect" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,78,60,105"/>
</map>
</div>

</div>
</div>
<a id="aafbc60891102579f1fbf6f97ed004123"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafbc60891102579f1fbf6f97ed004123">&#9670;&nbsp;</a></span>disco_cache_delete_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void disco_cache_delete_channel </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a channel from the cache and deallocates the channel from memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>ID of the channel to remove </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="cache_8c.html#a8b89d1fd760b784957e0d871b2ab9bb1">disco_cache_delete()</a>, and <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111fa3a2f910ba186e0dabbd5f1cb3f407596">DISCO_CHANNEL_CACHE</a>.</p>

<p class="reference">Referenced by <a class="el" href="cache_8c.html#aeba2f27742d234c2fca3f4f5f13f206d">disco_cache_set()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cache_8c_aafbc60891102579f1fbf6f97ed004123_icgraph.png" border="0" usemap="#cache_8c_aafbc60891102579f1fbf6f97ed004123_icgraph" alt=""/></div>
<map name="cache_8c_aafbc60891102579f1fbf6f97ed004123_icgraph" id="cache_8c_aafbc60891102579f1fbf6f97ed004123_icgraph">
<area shape="rect" title="Removes a channel from the cache and deallocates the channel from memory." alt="" coords="1297,49,1447,90"/>
<area shape="rect" href="cache_8c.html#aeba2f27742d234c2fca3f4f5f13f206d" title=" " alt="" coords="1121,56,1249,83"/>
<area shape="rect" href="cache_8h.html#a7c9a9dc6cac690ec485a0f031b0c0e8c" title="Adds a channel to the cache by ID. If it already exists in cache, it frees and overwrites the previou..." alt="" coords="883,5,1069,32"/>
<area shape="rect" href="cache_8h.html#accaa802263d40f247b2d094616f5cfa3" title="Adds a guild to the cache by ID. If it already exists in cache, it frees and overwrites the previous ..." alt="" coords="893,56,1059,83"/>
<area shape="rect" href="cache_8h.html#a956b108056f3cdae1c31f1584ba4ee0f" title="Adds a message to the cache by ID. If it already exists in cache, it frees and overwrites the previou..." alt="" coords="879,107,1073,133"/>
<area shape="rect" href="event_8h.html#a0a0e68819bd46857f175b4ef0345767e" title="All event websocket responses call this function." alt="" coords="720,56,831,83"/>
<area shape="rect" href="gateway_8c.html#a0ae5ed06471447e38fa5edf7780989c3" title=" " alt="" coords="481,56,672,83"/>
<area shape="rect" href="gateway_8h.html#a8dd303796c502667dc80381a12150f96" title="Callback function for when a websocket package is received." alt="" coords="277,56,433,83"/>
<area shape="rect" href="disco_8h.html#a18aaf89bf302e2e7a16188c6b7f45a76" title="High level abstraction which starts the bot." alt="" coords="108,56,229,83"/>
<area shape="rect" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,56,60,83"/>
</map>
</div>

</div>
</div>
<a id="a26f3a802577df53494fd7f7537677f50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26f3a802577df53494fd7f7537677f50">&#9670;&nbsp;</a></span>disco_cache_delete_guild()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void disco_cache_delete_guild </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a guild from the cache and deallocates the guild from memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>ID of the guild to remove </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="cache_8c.html#a8b89d1fd760b784957e0d871b2ab9bb1">disco_cache_delete()</a>, and <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111fa41bf87ec949bbcf37d261b6d5c339b98">DISCO_GUILD_CACHE</a>.</p>

<p class="reference">Referenced by <a class="el" href="cache_8c.html#aeba2f27742d234c2fca3f4f5f13f206d">disco_cache_set()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cache_8c_a26f3a802577df53494fd7f7537677f50_icgraph.png" border="0" usemap="#cache_8c_a26f3a802577df53494fd7f7537677f50_icgraph" alt=""/></div>
<map name="cache_8c_a26f3a802577df53494fd7f7537677f50_icgraph" id="cache_8c_a26f3a802577df53494fd7f7537677f50_icgraph">
<area shape="rect" title="Removes a guild from the cache and deallocates the guild from memory." alt="" coords="1297,49,1447,90"/>
<area shape="rect" href="cache_8c.html#aeba2f27742d234c2fca3f4f5f13f206d" title=" " alt="" coords="1121,56,1249,83"/>
<area shape="rect" href="cache_8h.html#a7c9a9dc6cac690ec485a0f031b0c0e8c" title="Adds a channel to the cache by ID. If it already exists in cache, it frees and overwrites the previou..." alt="" coords="883,5,1069,32"/>
<area shape="rect" href="cache_8h.html#accaa802263d40f247b2d094616f5cfa3" title="Adds a guild to the cache by ID. If it already exists in cache, it frees and overwrites the previous ..." alt="" coords="893,56,1059,83"/>
<area shape="rect" href="cache_8h.html#a956b108056f3cdae1c31f1584ba4ee0f" title="Adds a message to the cache by ID. If it already exists in cache, it frees and overwrites the previou..." alt="" coords="879,107,1073,133"/>
<area shape="rect" href="event_8h.html#a0a0e68819bd46857f175b4ef0345767e" title="All event websocket responses call this function." alt="" coords="720,56,831,83"/>
<area shape="rect" href="gateway_8c.html#a0ae5ed06471447e38fa5edf7780989c3" title=" " alt="" coords="481,56,672,83"/>
<area shape="rect" href="gateway_8h.html#a8dd303796c502667dc80381a12150f96" title="Callback function for when a websocket package is received." alt="" coords="277,56,433,83"/>
<area shape="rect" href="disco_8h.html#a18aaf89bf302e2e7a16188c6b7f45a76" title="High level abstraction which starts the bot." alt="" coords="108,56,229,83"/>
<area shape="rect" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,56,60,83"/>
</map>
</div>

</div>
</div>
<a id="a5281ba3f361e1d54b29847d8b1a46182"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5281ba3f361e1d54b29847d8b1a46182">&#9670;&nbsp;</a></span>disco_cache_delete_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void disco_cache_delete_message </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a message from the cache and deallocates the message from memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>ID of the message to remove </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="cache_8c.html#a8b89d1fd760b784957e0d871b2ab9bb1">disco_cache_delete()</a>, and <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111fa6af48f8fcedaa55454ebb742bb48396e">DISCO_MESSAGE_CACHE</a>.</p>

<p class="reference">Referenced by <a class="el" href="cache_8c.html#aeba2f27742d234c2fca3f4f5f13f206d">disco_cache_set()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cache_8c_a5281ba3f361e1d54b29847d8b1a46182_icgraph.png" border="0" usemap="#cache_8c_a5281ba3f361e1d54b29847d8b1a46182_icgraph" alt=""/></div>
<map name="cache_8c_a5281ba3f361e1d54b29847d8b1a46182_icgraph" id="cache_8c_a5281ba3f361e1d54b29847d8b1a46182_icgraph">
<area shape="rect" title="Removes a message from the cache and deallocates the message from memory." alt="" coords="1297,49,1447,90"/>
<area shape="rect" href="cache_8c.html#aeba2f27742d234c2fca3f4f5f13f206d" title=" " alt="" coords="1121,56,1249,83"/>
<area shape="rect" href="cache_8h.html#a7c9a9dc6cac690ec485a0f031b0c0e8c" title="Adds a channel to the cache by ID. If it already exists in cache, it frees and overwrites the previou..." alt="" coords="883,5,1069,32"/>
<area shape="rect" href="cache_8h.html#accaa802263d40f247b2d094616f5cfa3" title="Adds a guild to the cache by ID. If it already exists in cache, it frees and overwrites the previous ..." alt="" coords="893,56,1059,83"/>
<area shape="rect" href="cache_8h.html#a956b108056f3cdae1c31f1584ba4ee0f" title="Adds a message to the cache by ID. If it already exists in cache, it frees and overwrites the previou..." alt="" coords="879,107,1073,133"/>
<area shape="rect" href="event_8h.html#a0a0e68819bd46857f175b4ef0345767e" title="All event websocket responses call this function." alt="" coords="720,56,831,83"/>
<area shape="rect" href="gateway_8c.html#a0ae5ed06471447e38fa5edf7780989c3" title=" " alt="" coords="481,56,672,83"/>
<area shape="rect" href="gateway_8h.html#a8dd303796c502667dc80381a12150f96" title="Callback function for when a websocket package is received." alt="" coords="277,56,433,83"/>
<area shape="rect" href="disco_8h.html#a18aaf89bf302e2e7a16188c6b7f45a76" title="High level abstraction which starts the bot." alt="" coords="108,56,229,83"/>
<area shape="rect" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,56,60,83"/>
</map>
</div>

</div>
</div>
<a id="ad69b13a7c195f8e49f2e3410bf524e83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad69b13a7c195f8e49f2e3410bf524e83">&#9670;&nbsp;</a></span>disco_cache_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void disco_cache_destroy </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cleans up the cache and frees all the structs it contains. </p>

<p class="reference">References <a class="el" href="structnode.html#ab994a562b7b2a11d7586e1093800f5a4">node::alloc_id</a>, <a class="el" href="cache_8c.html#a069029f5476e51f2a2978b9f32eb1861">channels_map</a>, <a class="el" href="cache_8c.html#a676ccc5ac8c134cdb237ee1889a49706">channels_queue</a>, <a class="el" href="structnode.html#ae82853bbf3b0d2b71de205ae40799555">node::data</a>, <a class="el" href="cache_8c.html#a64447acacfa22d39689a8cea43560939">destroy_item_callback_fn</a>, <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111fa3a2f910ba186e0dabbd5f1cb3f407596">DISCO_CHANNEL_CACHE</a>, <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111fa41bf87ec949bbcf37d261b6d5c339b98">DISCO_GUILD_CACHE</a>, <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111fa6af48f8fcedaa55454ebb742bb48396e">DISCO_MESSAGE_CACHE</a>, <a class="el" href="cache_8c.html#a37b932c9356ec20b4ec3dabc18074781">guilds_map</a>, <a class="el" href="cache_8c.html#a91da2e78aae387f8009aa28741255488">guilds_queue</a>, <a class="el" href="structbuffer.html#a1d6fe81b3ccc1b5ff1253ea6eac1a300">buffer::head</a>, <a class="el" href="cache_8c.html#aae79345d0d5fe7ade7fc06b746ed93fd">messages_map</a>, <a class="el" href="cache_8c.html#abae5844af77f07ebc5ec8630d2392af7">messages_queue</a>, <a class="el" href="structnode.html#a8522b9b5a7f1657e8c7a0ae48df93519">node::pointers</a>, and <a class="el" href="structbuffer.html#af3f397315f9d1257c0b271d6692c9e14">buffer::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="disco_8h.html#a18aaf89bf302e2e7a16188c6b7f45a76">disco_start_bot()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cache_8c_ad69b13a7c195f8e49f2e3410bf524e83_icgraph.png" border="0" usemap="#cache_8c_ad69b13a7c195f8e49f2e3410bf524e83_icgraph" alt=""/></div>
<map name="cache_8c_ad69b13a7c195f8e49f2e3410bf524e83_icgraph" id="cache_8c_ad69b13a7c195f8e49f2e3410bf524e83_icgraph">
<area shape="rect" title="Cleans up the cache and frees all the structs it contains." alt="" coords="277,5,435,32"/>
<area shape="rect" href="disco_8h.html#a18aaf89bf302e2e7a16188c6b7f45a76" title="High level abstraction which starts the bot." alt="" coords="108,5,229,32"/>
<area shape="rect" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<a id="a141010b66beb5b310cdc59754dcf7bad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a141010b66beb5b310cdc59754dcf7bad">&#9670;&nbsp;</a></span>disco_cache_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* disco_cache_get </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111f">Disco_Cache_Type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="cache_8c.html#a069029f5476e51f2a2978b9f32eb1861">channels_map</a>, <a class="el" href="cache_8c.html#a676ccc5ac8c134cdb237ee1889a49706">channels_queue</a>, <a class="el" href="structnode.html#ae82853bbf3b0d2b71de205ae40799555">node::data</a>, <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111fa3a2f910ba186e0dabbd5f1cb3f407596">DISCO_CHANNEL_CACHE</a>, <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111fa41bf87ec949bbcf37d261b6d5c339b98">DISCO_GUILD_CACHE</a>, <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111fa6af48f8fcedaa55454ebb742bb48396e">DISCO_MESSAGE_CACHE</a>, <a class="el" href="cache_8c.html#a37b932c9356ec20b4ec3dabc18074781">guilds_map</a>, <a class="el" href="cache_8c.html#a91da2e78aae387f8009aa28741255488">guilds_queue</a>, <a class="el" href="structbuffer.html#a1d6fe81b3ccc1b5ff1253ea6eac1a300">buffer::head</a>, <a class="el" href="cache_8c.html#aae79345d0d5fe7ade7fc06b746ed93fd">messages_map</a>, <a class="el" href="cache_8c.html#abae5844af77f07ebc5ec8630d2392af7">messages_queue</a>, and <a class="el" href="structnode.html#a8522b9b5a7f1657e8c7a0ae48df93519">node::pointers</a>.</p>

<p class="reference">Referenced by <a class="el" href="cache_8h.html#a94c944689fdfce9d67ca25c60516e49c">disco_cache_get_channel()</a>, <a class="el" href="cache_8h.html#a40d6e5b34fb34603ac79a8cbc31c8799">disco_cache_get_guild()</a>, and <a class="el" href="cache_8h.html#ace523fbf19d49f495ffc8bfc95c4e572">disco_cache_get_message()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cache_8c_a141010b66beb5b310cdc59754dcf7bad_icgraph.png" border="0" usemap="#cache_8c_a141010b66beb5b310cdc59754dcf7bad_icgraph" alt=""/></div>
<map name="cache_8c_a141010b66beb5b310cdc59754dcf7bad_icgraph" id="cache_8c_a141010b66beb5b310cdc59754dcf7bad_icgraph">
<area shape="rect" title=" " alt="" coords="1121,56,1251,83"/>
<area shape="rect" href="cache_8h.html#a94c944689fdfce9d67ca25c60516e49c" title="Retreives a channel by ID in the cache." alt="" coords="883,5,1069,32"/>
<area shape="rect" href="cache_8h.html#a40d6e5b34fb34603ac79a8cbc31c8799" title="Retreives a guild by ID in the cache." alt="" coords="892,56,1060,83"/>
<area shape="rect" href="cache_8h.html#ace523fbf19d49f495ffc8bfc95c4e572" title="Retreives a message by ID in the cache." alt="" coords="879,107,1073,133"/>
<area shape="rect" href="event_8h.html#a0a0e68819bd46857f175b4ef0345767e" title="All event websocket responses call this function." alt="" coords="720,56,831,83"/>
<area shape="rect" href="gateway_8c.html#a0ae5ed06471447e38fa5edf7780989c3" title=" " alt="" coords="481,56,672,83"/>
<area shape="rect" href="gateway_8h.html#a8dd303796c502667dc80381a12150f96" title="Callback function for when a websocket package is received." alt="" coords="277,56,433,83"/>
<area shape="rect" href="disco_8h.html#a18aaf89bf302e2e7a16188c6b7f45a76" title="High level abstraction which starts the bot." alt="" coords="108,56,229,83"/>
<area shape="rect" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,56,60,83"/>
</map>
</div>

</div>
</div>
<a id="a94c944689fdfce9d67ca25c60516e49c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94c944689fdfce9d67ca25c60516e49c">&#9670;&nbsp;</a></span>disco_cache_get_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structdiscord__channel.html">discord_channel</a>* disco_cache_get_channel </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retreives a channel by ID in the cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>struct discord_channel* Pointer to the channel struct. NULL if the channel is not in the cache. </dd></dl>

<p class="reference">References <a class="el" href="cache_8c.html#a141010b66beb5b310cdc59754dcf7bad">disco_cache_get()</a>, and <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111fa3a2f910ba186e0dabbd5f1cb3f407596">DISCO_CHANNEL_CACHE</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8h.html#a0a0e68819bd46857f175b4ef0345767e">event_handle()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cache_8c_a94c944689fdfce9d67ca25c60516e49c_icgraph.png" border="0" usemap="#cache_8c_a94c944689fdfce9d67ca25c60516e49c_icgraph" alt=""/></div>
<map name="cache_8c_a94c944689fdfce9d67ca25c60516e49c_icgraph" id="cache_8c_a94c944689fdfce9d67ca25c60516e49c_icgraph">
<area shape="rect" title="Retreives a channel by ID in the cache." alt="" coords="879,5,1065,32"/>
<area shape="rect" href="event_8h.html#a0a0e68819bd46857f175b4ef0345767e" title="All event websocket responses call this function." alt="" coords="720,5,831,32"/>
<area shape="rect" href="gateway_8c.html#a0ae5ed06471447e38fa5edf7780989c3" title=" " alt="" coords="481,5,672,32"/>
<area shape="rect" href="gateway_8h.html#a8dd303796c502667dc80381a12150f96" title="Callback function for when a websocket package is received." alt="" coords="277,5,433,32"/>
<area shape="rect" href="disco_8h.html#a18aaf89bf302e2e7a16188c6b7f45a76" title="High level abstraction which starts the bot." alt="" coords="108,5,229,32"/>
<area shape="rect" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<a id="a40d6e5b34fb34603ac79a8cbc31c8799"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40d6e5b34fb34603ac79a8cbc31c8799">&#9670;&nbsp;</a></span>disco_cache_get_guild()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structdiscord__guild.html">discord_guild</a>* disco_cache_get_guild </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retreives a guild by ID in the cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>struct discord_guild* Pointer to the guild struct. NULL if the guild is not in the cache. </dd></dl>

<p class="reference">References <a class="el" href="cache_8c.html#a141010b66beb5b310cdc59754dcf7bad">disco_cache_get()</a>, and <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111fa41bf87ec949bbcf37d261b6d5c339b98">DISCO_GUILD_CACHE</a>.</p>

</div>
</div>
<a id="ace523fbf19d49f495ffc8bfc95c4e572"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace523fbf19d49f495ffc8bfc95c4e572">&#9670;&nbsp;</a></span>disco_cache_get_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structdiscord__message.html">discord_message</a>* disco_cache_get_message </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retreives a message by ID in the cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>struct discord_message* Pointer to the message struct. NULL if the message is not in the cache. </dd></dl>

<p class="reference">References <a class="el" href="cache_8c.html#a141010b66beb5b310cdc59754dcf7bad">disco_cache_get()</a>, and <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111fa6af48f8fcedaa55454ebb742bb48396e">DISCO_MESSAGE_CACHE</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8h.html#a0a0e68819bd46857f175b4ef0345767e">event_handle()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cache_8c_ace523fbf19d49f495ffc8bfc95c4e572_icgraph.png" border="0" usemap="#cache_8c_ace523fbf19d49f495ffc8bfc95c4e572_icgraph" alt=""/></div>
<map name="cache_8c_ace523fbf19d49f495ffc8bfc95c4e572_icgraph" id="cache_8c_ace523fbf19d49f495ffc8bfc95c4e572_icgraph">
<area shape="rect" title="Retreives a message by ID in the cache." alt="" coords="879,5,1073,32"/>
<area shape="rect" href="event_8h.html#a0a0e68819bd46857f175b4ef0345767e" title="All event websocket responses call this function." alt="" coords="720,5,831,32"/>
<area shape="rect" href="gateway_8c.html#a0ae5ed06471447e38fa5edf7780989c3" title=" " alt="" coords="481,5,672,32"/>
<area shape="rect" href="gateway_8h.html#a8dd303796c502667dc80381a12150f96" title="Callback function for when a websocket package is received." alt="" coords="277,5,433,32"/>
<area shape="rect" href="disco_8h.html#a18aaf89bf302e2e7a16188c6b7f45a76" title="High level abstraction which starts the bot." alt="" coords="108,5,229,32"/>
<area shape="rect" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<a id="a98b5c2129a67d394da3830526d1ae247"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98b5c2129a67d394da3830526d1ae247">&#9670;&nbsp;</a></span>disco_cache_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int disco_cache_init </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>message_cache_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel_cache_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>guild_cache_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cache_8h.html#a3a2c76967f7fd059bb4ca547a911599e">cache_destroy_callback_fn</a>&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes all the caches. </p>
<p>Should be called once when starting up the bot. Once the max cache size is reached, the oldest messages/channels/guilds will start to be cleaned up. Any time an object is edited on Discord, its "TTL" will be renewed in the cache.</p>
<p>The minimum cache size is 2, because edits require both the old and new object in the cache. Any number lower than 2 will result in the cache being set to 2.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message_cache_size</td><td>Maximum amount of messages the cache can hold (&gt; 1) </td></tr>
    <tr><td class="paramname">channel_cach_size</td><td>Maximum amount of channels the cache can hold (&gt; 1) </td></tr>
    <tr><td class="paramname">guild_cache_size</td><td>Maximum amount of guilds the cache can hold (&gt; 1) </td></tr>
    <tr><td class="paramname">callback</td><td>Callback that is called whenever a structure is taken out of the cache. It is up to the user if the structure should be freed or what happens to it. Keep it NULL to have the structures be freed up. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int 0 if succeeded, 1 otherwise </dd></dl>

<p class="reference">References <a class="el" href="cache_8c.html#a069029f5476e51f2a2978b9f32eb1861">channels_map</a>, <a class="el" href="cache_8c.html#a676ccc5ac8c134cdb237ee1889a49706">channels_queue</a>, <a class="el" href="disco__logging_8h.html#ac9349f26bc8e4e8e0a3e2643f9c5b928">d_log_err</a>, <a class="el" href="disco__logging_8h.html#a316cacf7ee1e1dacebad5ab1dfb0a509">d_log_notice</a>, <a class="el" href="cache_8c.html#a1dbbf43aa4a7a4e8073bc72c8d08986a">default_destroy_callback()</a>, <a class="el" href="cache_8c.html#a64447acacfa22d39689a8cea43560939">destroy_item_callback_fn</a>, <a class="el" href="cache_8c.html#a37b932c9356ec20b4ec3dabc18074781">guilds_map</a>, <a class="el" href="cache_8c.html#a91da2e78aae387f8009aa28741255488">guilds_queue</a>, <a class="el" href="structbuffer.html#a1d6fe81b3ccc1b5ff1253ea6eac1a300">buffer::head</a>, <a class="el" href="cache_8c.html#a32bfdb5f5eacbfaf13e4cdc0ad1b1bae">max_channel_cache_size</a>, <a class="el" href="cache_8c.html#ad81b87cde997b20dfecd65ea9e36ebac">max_guild_cache_size</a>, <a class="el" href="cache_8c.html#a30554163527f83bc3897325522c7de8c">max_message_cache_size</a>, <a class="el" href="cache_8c.html#aae79345d0d5fe7ade7fc06b746ed93fd">messages_map</a>, <a class="el" href="cache_8c.html#abae5844af77f07ebc5ec8630d2392af7">messages_queue</a>, and <a class="el" href="structbuffer.html#af3f397315f9d1257c0b271d6692c9e14">buffer::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="disco_8h.html#a18aaf89bf302e2e7a16188c6b7f45a76">disco_start_bot()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cache_8c_a98b5c2129a67d394da3830526d1ae247_icgraph.png" border="0" usemap="#cache_8c_a98b5c2129a67d394da3830526d1ae247_icgraph" alt=""/></div>
<map name="cache_8c_a98b5c2129a67d394da3830526d1ae247_icgraph" id="cache_8c_a98b5c2129a67d394da3830526d1ae247_icgraph">
<area shape="rect" title="Initializes all the caches." alt="" coords="277,5,407,32"/>
<area shape="rect" href="disco_8h.html#a18aaf89bf302e2e7a16188c6b7f45a76" title="High level abstraction which starts the bot." alt="" coords="108,5,229,32"/>
<area shape="rect" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<a id="aeba2f27742d234c2fca3f4f5f13f206d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeba2f27742d234c2fca3f4f5f13f206d">&#9670;&nbsp;</a></span>disco_cache_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int disco_cache_set </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111f">Disco_Cache_Type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cont</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="structnode.html#ab994a562b7b2a11d7586e1093800f5a4">node::alloc_id</a>, <a class="el" href="cache_8c.html#a069029f5476e51f2a2978b9f32eb1861">channels_map</a>, <a class="el" href="cache_8c.html#a676ccc5ac8c134cdb237ee1889a49706">channels_queue</a>, <a class="el" href="disco__logging_8h.html#a653b70f1baded882e334b1e1fd1e4be4">d_log_debug</a>, <a class="el" href="disco__logging_8h.html#ac9349f26bc8e4e8e0a3e2643f9c5b928">d_log_err</a>, <a class="el" href="disco__logging_8h.html#a316cacf7ee1e1dacebad5ab1dfb0a509">d_log_notice</a>, <a class="el" href="structnode.html#ae82853bbf3b0d2b71de205ae40799555">node::data</a>, <a class="el" href="cache_8c.html#aafbc60891102579f1fbf6f97ed004123">disco_cache_delete_channel()</a>, <a class="el" href="cache_8c.html#a26f3a802577df53494fd7f7537677f50">disco_cache_delete_guild()</a>, <a class="el" href="cache_8c.html#a5281ba3f361e1d54b29847d8b1a46182">disco_cache_delete_message()</a>, <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111fa3a2f910ba186e0dabbd5f1cb3f407596">DISCO_CHANNEL_CACHE</a>, <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111fa41bf87ec949bbcf37d261b6d5c339b98">DISCO_GUILD_CACHE</a>, <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111fa6af48f8fcedaa55454ebb742bb48396e">DISCO_MESSAGE_CACHE</a>, <a class="el" href="cache_8c.html#a37b932c9356ec20b4ec3dabc18074781">guilds_map</a>, <a class="el" href="cache_8c.html#a91da2e78aae387f8009aa28741255488">guilds_queue</a>, <a class="el" href="structbuffer.html#a1d6fe81b3ccc1b5ff1253ea6eac1a300">buffer::head</a>, <a class="el" href="cache_8c.html#a32bfdb5f5eacbfaf13e4cdc0ad1b1bae">max_channel_cache_size</a>, <a class="el" href="cache_8c.html#ad81b87cde997b20dfecd65ea9e36ebac">max_guild_cache_size</a>, <a class="el" href="cache_8c.html#a30554163527f83bc3897325522c7de8c">max_message_cache_size</a>, <a class="el" href="cache_8c.html#aae79345d0d5fe7ade7fc06b746ed93fd">messages_map</a>, <a class="el" href="cache_8c.html#abae5844af77f07ebc5ec8630d2392af7">messages_queue</a>, <a class="el" href="structnode.html#a8522b9b5a7f1657e8c7a0ae48df93519">node::pointers</a>, and <a class="el" href="structbuffer.html#af3f397315f9d1257c0b271d6692c9e14">buffer::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="cache_8h.html#a7c9a9dc6cac690ec485a0f031b0c0e8c">disco_cache_set_channel()</a>, <a class="el" href="cache_8h.html#accaa802263d40f247b2d094616f5cfa3">disco_cache_set_guild()</a>, and <a class="el" href="cache_8h.html#a956b108056f3cdae1c31f1584ba4ee0f">disco_cache_set_message()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cache_8c_aeba2f27742d234c2fca3f4f5f13f206d_icgraph.png" border="0" usemap="#cache_8c_aeba2f27742d234c2fca3f4f5f13f206d_icgraph" alt=""/></div>
<map name="cache_8c_aeba2f27742d234c2fca3f4f5f13f206d_icgraph" id="cache_8c_aeba2f27742d234c2fca3f4f5f13f206d_icgraph">
<area shape="rect" title=" " alt="" coords="1121,56,1249,83"/>
<area shape="rect" href="cache_8h.html#a7c9a9dc6cac690ec485a0f031b0c0e8c" title="Adds a channel to the cache by ID. If it already exists in cache, it frees and overwrites the previou..." alt="" coords="883,5,1069,32"/>
<area shape="rect" href="cache_8h.html#accaa802263d40f247b2d094616f5cfa3" title="Adds a guild to the cache by ID. If it already exists in cache, it frees and overwrites the previous ..." alt="" coords="893,56,1059,83"/>
<area shape="rect" href="cache_8h.html#a956b108056f3cdae1c31f1584ba4ee0f" title="Adds a message to the cache by ID. If it already exists in cache, it frees and overwrites the previou..." alt="" coords="879,107,1073,133"/>
<area shape="rect" href="event_8h.html#a0a0e68819bd46857f175b4ef0345767e" title="All event websocket responses call this function." alt="" coords="720,56,831,83"/>
<area shape="rect" href="gateway_8c.html#a0ae5ed06471447e38fa5edf7780989c3" title=" " alt="" coords="481,56,672,83"/>
<area shape="rect" href="gateway_8h.html#a8dd303796c502667dc80381a12150f96" title="Callback function for when a websocket package is received." alt="" coords="277,56,433,83"/>
<area shape="rect" href="disco_8h.html#a18aaf89bf302e2e7a16188c6b7f45a76" title="High level abstraction which starts the bot." alt="" coords="108,56,229,83"/>
<area shape="rect" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,56,60,83"/>
</map>
</div>

</div>
</div>
<a id="a7c9a9dc6cac690ec485a0f031b0c0e8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c9a9dc6cac690ec485a0f031b0c0e8c">&#9670;&nbsp;</a></span>disco_cache_set_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int disco_cache_set_channel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdiscord__channel.html">discord_channel</a> *&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a channel to the cache by ID. If it already exists in cache, it frees and overwrites the previous entry. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

<p class="reference">References <a class="el" href="cache_8c.html#aeba2f27742d234c2fca3f4f5f13f206d">disco_cache_set()</a>, and <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111fa3a2f910ba186e0dabbd5f1cb3f407596">DISCO_CHANNEL_CACHE</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8h.html#a0a0e68819bd46857f175b4ef0345767e">event_handle()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cache_8c_a7c9a9dc6cac690ec485a0f031b0c0e8c_icgraph.png" border="0" usemap="#cache_8c_a7c9a9dc6cac690ec485a0f031b0c0e8c_icgraph" alt=""/></div>
<map name="cache_8c_a7c9a9dc6cac690ec485a0f031b0c0e8c_icgraph" id="cache_8c_a7c9a9dc6cac690ec485a0f031b0c0e8c_icgraph">
<area shape="rect" title="Adds a channel to the cache by ID. If it already exists in cache, it frees and overwrites the previou..." alt="" coords="879,5,1065,32"/>
<area shape="rect" href="event_8h.html#a0a0e68819bd46857f175b4ef0345767e" title="All event websocket responses call this function." alt="" coords="720,5,831,32"/>
<area shape="rect" href="gateway_8c.html#a0ae5ed06471447e38fa5edf7780989c3" title=" " alt="" coords="481,5,672,32"/>
<area shape="rect" href="gateway_8h.html#a8dd303796c502667dc80381a12150f96" title="Callback function for when a websocket package is received." alt="" coords="277,5,433,32"/>
<area shape="rect" href="disco_8h.html#a18aaf89bf302e2e7a16188c6b7f45a76" title="High level abstraction which starts the bot." alt="" coords="108,5,229,32"/>
<area shape="rect" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<a id="accaa802263d40f247b2d094616f5cfa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accaa802263d40f247b2d094616f5cfa3">&#9670;&nbsp;</a></span>disco_cache_set_guild()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int disco_cache_set_guild </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdiscord__guild.html">discord_guild</a> *&#160;</td>
          <td class="paramname"><em>guild</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a guild to the cache by ID. If it already exists in cache, it frees and overwrites the previous entry. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">guild</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

<p class="reference">References <a class="el" href="cache_8c.html#aeba2f27742d234c2fca3f4f5f13f206d">disco_cache_set()</a>, and <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111fa41bf87ec949bbcf37d261b6d5c339b98">DISCO_GUILD_CACHE</a>.</p>

</div>
</div>
<a id="a956b108056f3cdae1c31f1584ba4ee0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a956b108056f3cdae1c31f1584ba4ee0f">&#9670;&nbsp;</a></span>disco_cache_set_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int disco_cache_set_message </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdiscord__message.html">discord_message</a> *&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a message to the cache by ID. If it already exists in cache, it frees and overwrites the previous entry. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

<p class="reference">References <a class="el" href="cache_8c.html#aeba2f27742d234c2fca3f4f5f13f206d">disco_cache_set()</a>, and <a class="el" href="cache_8h.html#a85169eef86ba65be6fcacdc0c0ae111fa6af48f8fcedaa55454ebb742bb48396e">DISCO_MESSAGE_CACHE</a>.</p>

<p class="reference">Referenced by <a class="el" href="event_8h.html#a0a0e68819bd46857f175b4ef0345767e">event_handle()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cache_8c_a956b108056f3cdae1c31f1584ba4ee0f_icgraph.png" border="0" usemap="#cache_8c_a956b108056f3cdae1c31f1584ba4ee0f_icgraph" alt=""/></div>
<map name="cache_8c_a956b108056f3cdae1c31f1584ba4ee0f_icgraph" id="cache_8c_a956b108056f3cdae1c31f1584ba4ee0f_icgraph">
<area shape="rect" title="Adds a message to the cache by ID. If it already exists in cache, it frees and overwrites the previou..." alt="" coords="879,5,1073,32"/>
<area shape="rect" href="event_8h.html#a0a0e68819bd46857f175b4ef0345767e" title="All event websocket responses call this function." alt="" coords="720,5,831,32"/>
<area shape="rect" href="gateway_8c.html#a0ae5ed06471447e38fa5edf7780989c3" title=" " alt="" coords="481,5,672,32"/>
<area shape="rect" href="gateway_8h.html#a8dd303796c502667dc80381a12150f96" title="Callback function for when a websocket package is received." alt="" coords="277,5,433,32"/>
<area shape="rect" href="disco_8h.html#a18aaf89bf302e2e7a16188c6b7f45a76" title="High level abstraction which starts the bot." alt="" coords="108,5,229,32"/>
<area shape="rect" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a069029f5476e51f2a2978b9f32eb1861"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a069029f5476e51f2a2978b9f32eb1861">&#9670;&nbsp;</a></span>channels_map</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct hashmap_s channels_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="cache_8c.html#a8b89d1fd760b784957e0d871b2ab9bb1">disco_cache_delete()</a>, <a class="el" href="cache_8h.html#ad69b13a7c195f8e49f2e3410bf524e83">disco_cache_destroy()</a>, <a class="el" href="cache_8c.html#a141010b66beb5b310cdc59754dcf7bad">disco_cache_get()</a>, <a class="el" href="cache_8h.html#a98b5c2129a67d394da3830526d1ae247">disco_cache_init()</a>, and <a class="el" href="cache_8c.html#aeba2f27742d234c2fca3f4f5f13f206d">disco_cache_set()</a>.</p>

</div>
</div>
<a id="a676ccc5ac8c134cdb237ee1889a49706"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a676ccc5ac8c134cdb237ee1889a49706">&#9670;&nbsp;</a></span>channels_queue</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structbuffer.html">buffer</a> channels_queue</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="cache_8c.html#a8b89d1fd760b784957e0d871b2ab9bb1">disco_cache_delete()</a>, <a class="el" href="cache_8h.html#ad69b13a7c195f8e49f2e3410bf524e83">disco_cache_destroy()</a>, <a class="el" href="cache_8c.html#a141010b66beb5b310cdc59754dcf7bad">disco_cache_get()</a>, <a class="el" href="cache_8h.html#a98b5c2129a67d394da3830526d1ae247">disco_cache_init()</a>, and <a class="el" href="cache_8c.html#aeba2f27742d234c2fca3f4f5f13f206d">disco_cache_set()</a>.</p>

</div>
</div>
<a id="a64447acacfa22d39689a8cea43560939"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64447acacfa22d39689a8cea43560939">&#9670;&nbsp;</a></span>destroy_item_callback_fn</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="cache_8h.html#a3a2c76967f7fd059bb4ca547a911599e">cache_destroy_callback_fn</a> destroy_item_callback_fn</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="cache_8c.html#a8b89d1fd760b784957e0d871b2ab9bb1">disco_cache_delete()</a>, <a class="el" href="cache_8h.html#ad69b13a7c195f8e49f2e3410bf524e83">disco_cache_destroy()</a>, and <a class="el" href="cache_8h.html#a98b5c2129a67d394da3830526d1ae247">disco_cache_init()</a>.</p>

</div>
</div>
<a id="a37b932c9356ec20b4ec3dabc18074781"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37b932c9356ec20b4ec3dabc18074781">&#9670;&nbsp;</a></span>guilds_map</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct hashmap_s guilds_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="cache_8c.html#a8b89d1fd760b784957e0d871b2ab9bb1">disco_cache_delete()</a>, <a class="el" href="cache_8h.html#ad69b13a7c195f8e49f2e3410bf524e83">disco_cache_destroy()</a>, <a class="el" href="cache_8c.html#a141010b66beb5b310cdc59754dcf7bad">disco_cache_get()</a>, <a class="el" href="cache_8h.html#a98b5c2129a67d394da3830526d1ae247">disco_cache_init()</a>, and <a class="el" href="cache_8c.html#aeba2f27742d234c2fca3f4f5f13f206d">disco_cache_set()</a>.</p>

</div>
</div>
<a id="a91da2e78aae387f8009aa28741255488"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91da2e78aae387f8009aa28741255488">&#9670;&nbsp;</a></span>guilds_queue</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structbuffer.html">buffer</a> guilds_queue</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="cache_8c.html#a8b89d1fd760b784957e0d871b2ab9bb1">disco_cache_delete()</a>, <a class="el" href="cache_8h.html#ad69b13a7c195f8e49f2e3410bf524e83">disco_cache_destroy()</a>, <a class="el" href="cache_8c.html#a141010b66beb5b310cdc59754dcf7bad">disco_cache_get()</a>, <a class="el" href="cache_8h.html#a98b5c2129a67d394da3830526d1ae247">disco_cache_init()</a>, and <a class="el" href="cache_8c.html#aeba2f27742d234c2fca3f4f5f13f206d">disco_cache_set()</a>.</p>

</div>
</div>
<a id="a32bfdb5f5eacbfaf13e4cdc0ad1b1bae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32bfdb5f5eacbfaf13e4cdc0ad1b1bae">&#9670;&nbsp;</a></span>max_channel_cache_size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int max_channel_cache_size</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="cache_8h.html#a98b5c2129a67d394da3830526d1ae247">disco_cache_init()</a>, and <a class="el" href="cache_8c.html#aeba2f27742d234c2fca3f4f5f13f206d">disco_cache_set()</a>.</p>

</div>
</div>
<a id="ad81b87cde997b20dfecd65ea9e36ebac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad81b87cde997b20dfecd65ea9e36ebac">&#9670;&nbsp;</a></span>max_guild_cache_size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int max_guild_cache_size</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="cache_8h.html#a98b5c2129a67d394da3830526d1ae247">disco_cache_init()</a>, and <a class="el" href="cache_8c.html#aeba2f27742d234c2fca3f4f5f13f206d">disco_cache_set()</a>.</p>

</div>
</div>
<a id="a30554163527f83bc3897325522c7de8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30554163527f83bc3897325522c7de8c">&#9670;&nbsp;</a></span>max_message_cache_size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int max_message_cache_size</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="cache_8h.html#a98b5c2129a67d394da3830526d1ae247">disco_cache_init()</a>, and <a class="el" href="cache_8c.html#aeba2f27742d234c2fca3f4f5f13f206d">disco_cache_set()</a>.</p>

</div>
</div>
<a id="aae79345d0d5fe7ade7fc06b746ed93fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae79345d0d5fe7ade7fc06b746ed93fd">&#9670;&nbsp;</a></span>messages_map</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct hashmap_s messages_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="cache_8c.html#a8b89d1fd760b784957e0d871b2ab9bb1">disco_cache_delete()</a>, <a class="el" href="cache_8h.html#ad69b13a7c195f8e49f2e3410bf524e83">disco_cache_destroy()</a>, <a class="el" href="cache_8c.html#a141010b66beb5b310cdc59754dcf7bad">disco_cache_get()</a>, <a class="el" href="cache_8h.html#a98b5c2129a67d394da3830526d1ae247">disco_cache_init()</a>, and <a class="el" href="cache_8c.html#aeba2f27742d234c2fca3f4f5f13f206d">disco_cache_set()</a>.</p>

</div>
</div>
<a id="abae5844af77f07ebc5ec8630d2392af7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abae5844af77f07ebc5ec8630d2392af7">&#9670;&nbsp;</a></span>messages_queue</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structbuffer.html">buffer</a> messages_queue</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="cache_8c.html#a8b89d1fd760b784957e0d871b2ab9bb1">disco_cache_delete()</a>, <a class="el" href="cache_8h.html#ad69b13a7c195f8e49f2e3410bf524e83">disco_cache_destroy()</a>, <a class="el" href="cache_8c.html#a141010b66beb5b310cdc59754dcf7bad">disco_cache_get()</a>, <a class="el" href="cache_8h.html#a98b5c2129a67d394da3830526d1ae247">disco_cache_init()</a>, and <a class="el" href="cache_8c.html#aeba2f27742d234c2fca3f4f5f13f206d">disco_cache_set()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
